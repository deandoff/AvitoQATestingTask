# TESTCASES.md - тест-кейсы, покрывающие функционал API
## Содержание

1. [Создание объявления (POST /item)](#создание-объявления-post-item)
   - [1: Успешное создание объявления](#1-успешное-создание-объявления)
   - [2: Успешное создание объявления с минимальными значениями полей](#2-успешное-создание-объявления-с-минимальными-значениями-полей)
   - [3: Успешное создание объявления с максимальными значениями полей](#3-успешное-создание-объявления-с-максимальными-значениями-полей)
   - [4: Создание с пропуском обязательного поля](#4-создание-с-пропуском-обязательного-поля)
   - [5: Создание с пустым телом запроса](#5-создание-с-пустым-телом-запроса)
   - [6: Создание с некорректными значениями полей](#6-создание-с-некорректными-значениями-полей)
   - [7: Создание с некорректным типом данных](#7-создание-с-некорректным-типом-данных)

2. [Получение объявления по ID (GET /item/:id)](#получение-объявления-по-id-get-itemid)
   - [8: Успешное получение объявления](#8-успешное-получение-объявления)
   - [9: Запрос с несуществующим объявлением](#9-запрос-с-несуществующим-объявлением)
   - [10: Запрос с некорректным форматом UUID (например, невалидный UUID)](#10-некорректный-формат-id-например-невалидный-uuid)
   - [11: Запрос с некорректным типом данных (число вместо строки)](#11-запрос-с-некорректным-типом-данных)

3. [Получение всех объявлений по sellerID (GET /:sellerID/item)](#получение-всех-объявлений-по-sellerid-get-selleriditem)
   - [12: Получение объявлений для существующего продавца](#12-получение-объявлений-для-существующего-продавца)
   - [13: Запрос на объявления продавца без объявлений](#13-запрос-на-объявления-продавца-без-объявлений)
   - [14: Некорректный тип данных для sellerId](#14-некорректный-тип-данных-для-sellerid)

4. [Получение статистики по объявлению (GET /statistic/:id)](#получение-статистики-по-объявлению-get-statisticid)
   - [15: Успешное получение статистики по существующему объявлению](#15-успешное-получение-статистики-по-существующему-объявлению)
   - [16: Запрос статистики для несуществующего объявления](#16-запрос-статистики-для-несуществующего-объявления)
   - [17: Запрос с некорректным форматом UUID (например, невалидный UUID)](#17-запрос-с-некорректным-форматом-uuid-например-невалидный-uuid)
   - [18: Запрос с некорректным типом данных (число вместо строки)](#18-запрос-с-некорректным-типом-данных-число-вместо-строки)

---

## **Предварительные условия:**
## - Сервис доступен по адресу: `https://qa-internship.avito.com/api/1/`.

## Создание объявления (POST /item)
### 1: Успешное создание объявления

**Шаги:**
1. Отправить `POST`-запрос на `/item` в формате JSON, содержащий все необходимые поля
   ```json
   {
     "sellerID": 112292,
     "name": "Correct Item Name",
     "price": 1000
   }
   ```
   
**Ожидаемый результат:**
- Статус-код `200`.
- Тело ответа содержит поле `"status"`.

---

### 2: Успешное создание объявления с минимальными значениями полей

**Шаги:**
1. Отправить `POST`-запрос на `/item` в формате JSON, содержащий все необходимые поля с минимальными значениями
   ```json
   {
     "sellerID": 111111,
     "name": "А",
     "price": 1
   }
   ```
**Ожидаемый результат:**
- Статус-код `200`.
- Тело ответа содержит поле `"status"`.

---

### 3: Успешное создание объявления с максимальными значениями полей

**Шаги:**
1. Отправить `POST`-запрос на `/item` в формате JSON, содержащий все необходимые поля с максимальными значениями
   ```json
   {
     "sellerID": 999999,
     "name": "Correct Item Name",
     "price": 2147483647
   }
   ```

**Ожидаемый результат:**
- Статус-код `200`.
- Тело ответа содержит поле `"status"`.

---

### 4: Создание с пропуском обязательного поля

#### 4.1: Создание с пропуском поля sellerID
**Шаги:**
1. Отправить `POST`-запрос на `/item` в формате JSON, с отсутствующим полем sellerID
   ```json
   {
     "name": "Test Item",
     "price": 1000
   }
   ```
**Ожидаемый результат:**
- Статус-код `400`.
- Тело ответа содержит поля `"result", "mesages", "nostrudffb", "Ut__", "message", "status" `.

#### 4.2: Создание с пропуском поля name
**Шаги:**
1. Отправить `POST`-запрос на `/item` в формате JSON, с отсутствующим полем name
   ```json
   {
     "sellerID": 771771,
     "price": 1000
   }
   ```
**Ожидаемый результат:**
- Статус-код `400`.
- Тело ответа содержит поля `"result", "mesages", "nostrudffb", "Ut__", "message", "status" `.

#### 4.3: Создание с пропуском поля price
**Шаги:**
1. Отправить `POST`-запрос на `/item` в формате JSON, с отсутствующим полем price
   ```json
   {
     "sellerID": 771771,
     "name": "Test Item"
   }
   ```
**Ожидаемый результат:**
- Статус-код `400`.
- Тело ответа содержит поля `"result", "mesages", "nostrudffb", "Ut__", "message", "status" `.
---

### 5: Создание с пустым телом запроса

**Шаги:**
1. Отправить `POST`-запрос на `/item` с пустым телом
   ```json
   {
   
   }
   ```
   
**Ожидаемый результат:**
- Статус-код `400`.
- Тело ответа содержит поля `"result", "mesages", "nostrudffb", "Ut__", "message", "status" `.

---

### 6: Создание с некорректными значениями полей

#### 6.1: Создание с некорректным значением поля sellerID
**Шаги:**
1. Отправить `POST`-запрос на `/item`, с запросом, содержащим некорректное значение поля sellerID
   ```json
   {
     "sellerID": -1,
     "name": "Test Item",
     "price": 1000
   }
   ```
**Ожидаемый результат:**
- Статус-код `400`.
- Тело ответа содержит поля `"result", "mesages", "nostrudffb", "Ut__", "message", "status" `.

#### 6.2: Создание с некорректным значением поля price
**Шаги:**
1. Отправить `POST`-запрос на `/item`, с запросом, содержащим некорректное значение поля price
   ```json
   {
     "sellerID": 771771,
     "name": "Test Item",
     "price": -1
   }
   ```
**Ожидаемый результат:**
- Статус-код `400`.
- Тело ответа содержит поля `"result", "mesages", "nostrudffb", "Ut__", "message", "status" `.
---

### 7: Создание с некорректным типом данных
#### 7.1: Создание с некорректным типом данных поля sellerID
**Шаги:**
1. Отправить `POST`-запрос на `/item`, с запросом, содержащим некорректный тип данных в поле sellerID
   ```json
   {
     "sellerID": "wrong",
     "name": "Test Item",
     "price": 1000
   }
   ```
**Ожидаемый результат:**
- Статус-код `400`.
- Тело ответа содержит поля `"result", "mesages", "nostrudffb", "Ut__", "message", "status" `.

#### 7.2: Создание с некорректным типом данных поля name
**Шаги:**
1. Отправить `POST`-запрос на `/item`, с запросом, содержащим некорректный тип данных в поле name
   ```json
   {
     "sellerID": 771771,
     "name": 1,
     "price": 1000
   }
   ```
**Ожидаемый результат:**
- Статус-код `400`.
- Тело ответа содержит поля `"result", "mesages", "nostrudffb", "Ut__", "message", "status" `.

#### 7.3: Создание с некорректным типом данных поля price
**Шаги:**
1. Отправить `POST`-запрос на `/item`, с запросом, содержащим некорректный тип данных в поле price
   ```json
   {
     "sellerID": 771771,
     "name": "Test Item",
     "price": "wrong"
   }
   ```
**Ожидаемый результат:**
- Статус-код `400`.
- Тело ответа содержит поля `"result", "mesages", "nostrudffb", "Ut__", "message", "status" `.

---
## Получение объявления по ID (GET /item/:id)

**Предварительные условия:**
1. Существует объявление с некоторым UUID, например `df3ff6f1-75a2-4d77-b0dc-744ed5fc175a`.

### 8: Успешное получение объявления

**Шаги:**
1. Отправить `GET`-запрос на `/item/df3ff6f1-75a2-4d77-b0dc-744ed5fc175a`.

**Ожидаемый результат:**
- Статус-код `200`.
- Тело ответа, представляющее собой массив объектов, например:
  ```json
  [
    {
      "id": "<string>",
      "sellerId": "<integer>",
      "name": "<string>",
      "price": "<integer>",
      "statistics": {
        "likes": "<integer>",
        "viewCount": "<integer>",
        "contacts": "<integer>"
      },
      "createdAt": "<string>"
    }
  ]
  ```
---

### 9: Запрос с несуществующим объявлением

**Шаги:**
1. Используем фейковый UUID (например, `df3ff6f1-75a2-4d77-b1dd-744ed5fc175a`).
2. Отправить `GET`-запрос `/item/df3ff6f1-75a2-4d77-b1dd-744ed5fc175a`.

**Ожидаемый результат:**
- Статус-код `404`.
- Тело ответа:
  ```json
  {
    "result": {
      "messages": {},
      "message": "<string>"
    },
    "status": "<string>"
  }
  ```
---

### 10: Некорректный формат ID (например, невалидный UUID)

**Шаги:**
1. Отправить `GET`-запрос `/item/INVALID_ID` (нарушаем формат UUID).

**Ожидаемый результат:**
- Статус-код `400`
- Тело ответа:
  ```json
  {
    "result": {
      "messages": {},
      "message": "<string>"
    },
    "status": "<string>"
  }
  ```

### 11: Запрос с некорректным типом данных

**Шаги:**
1. Отправить `GET`-запрос `/item/100` (в данном случае 100 является не строкой, а числом).

**Ожидаемый результат:**
- Статус-код `400`
- Тело ответа:
  ```json
  {
    "result": {
      "messages": {},
      "message": "<string>"
    },
    "status": "<string>"
  }
  ```

---

## Получение всех объявлений по sellerID (GET /:sellerID/item)

### 12: Получение объявлений для существующего продавца

**Предварительные условия:**
- Существует продавец с некоторым Id, у которого есть как минимум одно объявление (например 771771)

**Шаги:**
1. Отправить `GET /771771/item`.

**Ожидаемый результат:**
- Статус-код `200`.
- Тело ответа является массивом объектов
  ```json
  [
    {
      "id": "<string>",
      "sellerId": "<integer>",
      "name": "<string>",
      "price": "<integer>",
      "statistics": {
        "likes": "<integer>",
        "viewCount": "<integer>",
        "contacts": "<integer>"
      },
      "createdAt": "<string>"
    }
  ]
  ```

### 13: Запрос на объявления продавца без объявлений

**Предварительные условия:**
- Существует продавец с некоторым Id, у которого нет ни одного объявления (например 999111)

**Шаги:**
1. Отправить `GET /771771/item`.

**Ожидаемый результат:**
- Статус-код `200`.
- Тело ответа является пустым массивом
  ```json
  []
  ```

### 14: Некорректный тип данных для sellerId

**Шаги:**
1. Отправить `GET /invalidID/item` (подставляем строку вместо целого числа).

**Ожидаемый результат:**
- Статус-код `400`.
- Тело ответа
  ```json
  {
  "result": {
    "messages": {
    },
    "message": "<string>"
  },
  "status": "<string>"
  }
  ```
---

## Получение статистики по объявлению (GET /statistic/:id)

### 15: Успешное получение статистики по существующему объявлению

**Предварительные условия:**
1. Существует объявление с некоторым UUID, например `df3ff6f1-75a2-4d77-b0dc-744ed5fc175a`.

**Шаги:**
1. Отправить `GET /statistic/df3ff6f1-75a2-4d77-b0dc-744ed5fc175a`.

**Ожидаемый результат:**
- Статус-код `200`. 
- Тело представляет собой объект вида:
  ```json
  {
    "likes": "<integer>",
    "viewCount": "<integer>",
    "contacts": "<integer>"
  }
  ```
---

### 16: Запрос статистики для несуществующего объявления

**Шаги:**
1. Используем фейковый UUID (например, `df3ff6f1-75a2-4d77-b1dd-744ed5fc175a`).
2. Отправить `GET /statistic/df3ff6f1-75a2-4d77-b1dd-744ed5fc175a`.

**Ожидаемый результат:**
- Статус-код `404`.
- Тело ответа:
  ```json
  {
    "result": {
      "messages": {},
      "message": "<string>"
    },
    "status": "<string>"
  }
  ```
---

### 17: Запрос с некорректным форматом UUID (например, невалидный UUID)

**Шаги:**
1. Отправить `GET /statistic/invalid_id`.

**Ожидаемый результат:**
- Статус-код `400`.
- Тело ответа:
  ```json
  {
    "result": {
      "messages": {},
      "message": "<string>"
    },
    "status": "<string>"
  }
  ```
  
### 18: Запрос с некорректным типом данных (число вместо строки)

**Шаги:**
1. Отправить `GET /statistic/100` (отправляем целое число, а не строку).

**Ожидаемый результат:**
- Статус-код `400`.
- Тело ответа:
  ```json
  {
    "result": {
      "messages": {},
      "message": "<string>"
    },
    "status": "<string>"
  }
  ```

---
